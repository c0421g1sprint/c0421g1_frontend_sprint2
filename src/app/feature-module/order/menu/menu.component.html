<div class="row">
  <div class="col-md-12">

    <div class="container-fluid body-custom" style="margin-top: 80px; margin-bottom: -80px; min-height: 140vh">
      <div class="row">
        <div class="col-lg-12" style="margin-top: 30px;margin-left: 220px">
          <form class="form-inline my-2 my-lg-0" style=" margin-left: 450px">
            <input class="form-control mr-sm-2" type="search" placeholder="Nhập tên đồ uống cần tìm" aria-label="Search"
                   (change)="valueInput($event)" style="width: 200px">
            <button class="btn btn-warning my-2 my-sm-0" type="submit" (click)="searchFoodAndDrinkAndMoney()"
                    style="height: 40px"> Tìm kiếm
            </button>
          </form>
        </div>
      </div>
      <div class="row " style="margin-left: 20px">
        <div class="col-2">
          <div class="row">
            <div class="col-12">
              <ul class="list-group" *ngFor="let objCategory of ListCategory">
                <li class="list-group-item" style="width: 250px;height: 50px;font-size: 25px">
                  <a class="list-food" (click)="getAllFoodTheoIdCategory(objCategory.categoryId)"
                     style="color: black;width: 200px"><span></span>{{objCategory.categoryName}}
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-5">
          <div class="row">
            <div class="col-md-12">
              <div class="row row-cols-1 row-cols-md-2" style="margin-top: -15px">
                <div class="col"
                     *ngFor="let objFood of FoodAndDrink |  paginate:{itemsPerPage:6,  currentPage:page,totalItems:totalLength} "
                     style="">
                  <div class="card" style="margin-top: 15px;margin-left: 10px">
                    <img [src]="objFood.fadImage" class="m-auto" alt="..."
                         style="width: 250px;">
                    <div class="card-body">
                      <h5 class="card-title" style="">{{objFood.fadName}}</h5>
                      <h5 class="card-title" style="">Thời gian chờ : <span>{{objFood.fadWaitTime}} phút </span></h5>
                      <h5 class="card-title" style="">Giá : <span>{{objFood.fadPrice}} VND </span></h5>
                    </div>
                    <button class="btn btn-warning" (click)="addToCart(objFood)">Thêm <img
                      src="assets/icon/icon/add_shopping_cart_white_24dp.svg" alt=""></button>
                  </div>
                </div>
                <nav aria-label="Page navigation example" style="margin-top: 25px; margin-left: 40px; min-width: 110%">
                  <pagination-template #p="paginationApi" (pageChange)="page = $event">
                    <div class="row">a
                      <div class="col-lg-12">
                        <nav aria-label="Page navigation example" style="margin-left: 0px">
                          <ul class="pagination justify-content-center">
                            <!--                trang truoc-->
                            <li class="page-item" [class.disabled]="p.isFirstPage()">
                              <button class="page-link" aria-label="Previous" (click)="p.previous()"
                                      style="height: 35px"><img src="assets/icon/icon/skip_previous_black_24dp.svg"
                                                                alt=""><span
                                aria-hidden="true">&laquo;</span></button>
                            </li>
                            <!--                so trang tren tong so trang-->
                            <li class="page-item">
                              <p class="page-link " style="color: black;height: 35px">{{p.getCurrent()}}
                                /{{p.getLastPage()}}</p>
                            </li>
                            <!--                trang sau-->
                            <li class="page-item" [class.disabled]="p.isLastPage()">
                              <button class="page-link" aria-label="Next" (click)="p.next()" style="height: 35px">
                                <img src="assets/icon/icon/skip_next_black_24dp.svg" alt=""><span
                                aria-hidden="true">&raquo;</span></button>
                            </li>
                            <li class="page-item">
                              <div style="margin-left: 20px;height: 50px">
                                <div class="input-group">
                                  <input type="number" min="1" class="form-control" placeholder="Tới trang..."
                                         style="width: 120px;" #presentPage>
                                  <div class="input-group-append">
                                    <!--                      lay gia tri o input roi chuyen den-->
                                    <button class="btn input-group-text"
                                            style="background-color: Black; color: yellow ;"
                                            [class.disabled]="presentPage.value <= p.getLastPage()"
                                            (click)="goToPage(+presentPage.value,p.getLastPage())">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                           class="bi bi-arrow-right-square" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                              d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm4.5 5.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                                      </svg>
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </li>
                          </ul>
                        </nav>
                      </div>
                    </div>
                  </pagination-template>
                  <!--                </li>-->
                  <!--              </ul>-->
                </nav>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-5">
          <p style="color: #00FFFF;font-size: 30px;text-align: center">Số bàn: <span
            style="color: #00FFFF">{{table.tableCode}}</span></p><br/>
          <p style="color: Black;font-size: 30px;text-align: center">Ngày: <span
            style="color: Yellow">{{dateNow}} </span></p>
          <div class="row">
            <button class="btn btn-secondary btn-feedbkack"
                    style=";margin-top: -18px;width: 160px;height: 40px;margin-left: 50px;background: #ad9300"
                    (click)="openDialogCreateFeedBack()">Phản
              hồi <img src="assets/icon/icon/feedback_black_24dp.svg" alt="">
            </button>
            <table class="table table-hover table-dark text-center" style="margin-left: 50px">
              <thead>
              <tr>
                <th scope="col">STT</th>
                <th scope="col">Tên món</th>
                <th scope="col">Số lượng</th>
                <th scope="col">Giá</th>
                <th scope="col">Tổng tiền</th>
                <th scope="col">Thời gian chờ</th>
                <th scope="col" *ngIf="checkDelete == false">Active</th>
              </tr>
              </thead>
              <tbody *ngIf="product != null else block">
              <tr *ngFor="let objFood of product;let i = index">
                <th scope="row">{{i + 1}}</th>
                <td style="max-width: 100px">{{objFood.fadName}}</td>
                <td>
                  <button (click)="truCart(objFood)" class="btn btn-warning">Giảm</button>
                  {{objFood.quantity}}
                  <button (click)="addToCart(objFood)" class="btn btn-warning">Tăng</button>
                </td>
                <td>{{objFood.fadPrice}}</td>
                <td>{{objFood.total}}</td>
                <td>
                  <countdown #countdown [config]="{leftTime:objFood.fadWaitTime}"
                             *ngIf="check == true else blockTime"></countdown>
                </td>
                <ng-template #blockTime>
                  <countdown [config]="{leftTime:objFood.fadWaitTime,demand:true}"></countdown>
                </ng-template>
                <td>
                  <button type="button" class="btn btn-danger"
                          (click)="removeCartDialog(objFood.fadId,objFood.fadName,objFood.quantity,objFood)"
                          *ngIf="checkDelete == false"><img
                    src="assets/icon/icon/delete_sweep_black_24dp.svg" alt=""></button>
                </td>
              </tr>
              </tbody>
              <ng-template #block>
            <span
              style="text-align: center;margin-left: auto;margin-right: auto;font-size: 25px">Giỏ hàng đang trống</span>
              </ng-template>
            </table>
            <nav>
              <ul>
                <li style="margin-top: 20px">
                  <button type="button" class="btn "
                          style="background: #F781F3;width: 160px;height: 40px;margin-left: 50px"
                          (click)="getCallEmp(table,table.tableId)">{{phucVu}} <img
                    src="assets/icon/icon/support_agent_black_24dp.svg" alt="">
                  </button>
                </li>
                <li style="margin-top: 20px">
                  <button type="button" class="btn btn-info"
                          (click)="newOrderDetail()"
                          (click)="getCallFood(table,table.tableId)" *ngIf="product != null"
                          style="width: 160px;height: 40px;margin-left: 50px">Gọi Món
                    <img src="/assets/icon/icon/local_dining_black_24dp.svg" alt="">
                  </button>
                </li>
                <li style="margin-top: 20px">
                  <button class="btn btn-success" style="width: 160px;height: 40px;margin-left: 50px"
                          (click)="getCallPay(table,table.tableId)" *ngIf="check === true">{{thanhtoan}} <img
                    src="assets/icon/icon/paid_black_24dp.svg" alt=""></button>
                </li>
              </ul>
            </nav>
          </div>
          <div class="row" style="margin-top: 25px">
            <div class="col-md-3">
            </div>
            <div class="col-4">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
