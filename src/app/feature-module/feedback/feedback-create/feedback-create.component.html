<h1 mat-dialog-title style="font-size: 40px; color: black;margin-left: 35%">
  Phản hồi của bạn
</h1>
<mat-dialog-content>
  <form [formGroup]="feedbackForm " (ngSubmit)="createFeedback(feedbackForm)">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="name" style="color: black" class="font-weight-bold">
          Họ và tên <span
          style="color: red">*</span> :
        </label>
        <input type="text" class="form-control" id="name" placeholder="Họ và tên"
               formControlName="feedbackCreator">
        <div>
          <small
            *ngIf="feedbackForm.controls.feedbackCreator.hasError('required') && feedbackForm.controls.feedbackCreator.touched "
            class="validate" style="color: red">Tên
            không được để trống .</small>
          <small
            *ngIf="feedbackForm.controls.feedbackCreator.hasError('minlength') && feedbackForm.controls.feedbackCreator.touched "
            class="validate" style="color: red">Tên
            không được ít hơn 5 kí tự .</small><br/>
          <small
            *ngIf="feedbackForm.controls.feedbackCreator.hasError('maxlength') && feedbackForm.controls.feedbackCreator.touched "
            class="validate" style="color: red">Tên
            không được quá 30 kí tự .</small>
          <small
            *ngIf="feedbackForm.controls.feedbackCreator.hasError('pattern') && feedbackForm.controls.feedbackCreator.touched "
            class="validate" style="color: red">Tên
            không được có kí tự đặc biệt .</small>
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="feedbackEmail" style="color: black" class="font-weight-bold">Email <span
          style="color: red">*</span> :
        </label>
        <input type="email" class="form-control" id="feedbackEmail" placeholder="Nhập email của bạn"
               formControlName="feedbackEmail">
        <small
          *ngIf="feedbackForm.controls.feedbackEmail.hasError('required') && feedbackForm.controls.feedbackEmail.touched"
          class="validate" style="color: red">
          Email không được để trống .</small>
        <small
          *ngIf="feedbackForm.controls.feedbackEmail.hasError('email') && feedbackForm.controls.feedbackEmail.touched"
          class="validate" style="color: red">
          Email không đúng định dạng .</small>
      </div>
      <!--                  <div class="form-group col-md-6">-->
      <!--                    <label for="date" style="color: black" class="font-weight-bold">Ngày-->
      <!--                      Tạo <span-->
      <!--                        style="color: red">*</span> :</label>-->
      <!--                    <input type="date" class="form-control" id="date" formControlName="feedbackDate">-->
      <!--                    &lt;!&ndash;                    <input [max]="maxDate" formControlName="feedbackDate" type="date" matInput style="color:black;">&ndash;&gt;-->
      <!--                    <div *ngFor="let valid of validationMessage.feedbackDate">-->
      <!--                      <small style="color: red"-->
      <!--                             *ngIf="feedbackForm.get('feedbackDate').hasError(valid.type) &&-->
      <!--                      (feedbackForm.get('feedbackDate').touched || feedbackForm.get('feedbackDate').dirty)">-->
      <!--                        {{valid.message}}-->
      <!--                      </small>-->
      <!--                    </div>-->
      <!--                  </div>-->
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="feedbackContent" style="color: black" class="font-weight-bold">Nội dung phản hồi <span
          style="color: red">*</span> :
        </label>
        <!--                    <input type="text" class="form-control" id="feedbackContent"-->
        <!--                           placeholder="Nội dung bạn muốn phản hồi"-->
        <!--                           formControlName="feedbackContent">-->
        <textarea class="form-control" id="feedbackContent"
                  rows="10" placeholder="Nhập nội dung bạn muốn phản hồi"
                  formControlName="feedbackContent"></textarea>
        <small
          *ngIf="feedbackForm.controls.feedbackContent.hasError('required') && feedbackForm.controls.feedbackContent.touched"
          class="validate" style="color: red">
          Nội dung không được để trống .</small>
        <small
          *ngIf="feedbackForm.controls.feedbackContent.hasError('minlength') && feedbackForm.controls.feedbackContent.touched"
          class="validate" style="color: red">
          Nội dung không được ít hơn 5 kí tự .</small>
        <small
          *ngIf="feedbackForm.controls.feedbackContent.hasError('maxlength') && feedbackForm.controls.feedbackContent.touched"
          class="validate" style="color: red">
          Nội dung không được quá 1000 kí tự .</small><br/>
      </div>
      <div class="form-group col-md-6">
        <label for="img" class="form-label" style="color: black">Ảnh phản hồi :</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <!--                        <div class="input-group-text">-->
            <!--                          <img src="/assets/icon/add_photo_alternate_black_24dp.svg" alt="">-->
            <!--                        </div>-->
          </div>
          <div class="custom-file">
            <input type="file" class="custom-file-input form-control-file"
                   id="img" aria-label="file" #fileUploader formControlName="feedbackImage"
                   (change)="showPreview($event)" accept="image/*">
            <label class="custom-file-label" for="img" data-browse="Ảnh">Chọn ảnh phản hồi</label>
          </div>
        </div>
        <img [src]="imgSrc" (click)="fileUploader.click()"
             style="height: 270px; width: 370px"
             id="output" alt="" class="img-fluid mt-2"/>
        <!--                    <div *ngFor="let valid of validationMessage.fadImage">-->
        <!--                      <small style="color: red"-->
        <!--                             *ngIf="createForm.get('fadImage').hasError(valid.type) && (createForm.get('fadImage').touched || createForm.get('fadImage').dirty)">-->
        <!--                        {{valid.message}}-->
        <!--                      </small>-->
        <!--                    </div>-->
      </div>
    </div>
    <div class="d-flex justify-content-center" style="margin-bottom: 10px; ">
      <div class="spinner-border text-info mt-1 mr-2" *ngIf="showSpinner">
        <span class="sr-only">Loading...</span>
      </div>
      <button type="submit" class="btn btn-success" style="width: 170px"
              [disabled]="feedbackForm.invalid">
        <!--              <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24"-->
        <!--                   height="24px"-->
        <!--                   viewBox="-2 1 24 27" width="24px" fill="#000000">-->
        <!--                <rect fill="none" height="24" width="24"/>-->
        <!--                <path-->
        <!--                  d="M12,9L12,9c0.55,0,1-0.45,1-1V6h2c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1h-2V2c0-0.55-0.45-1-1-1h0c-0.55,0-1,0.45-1,1v2H9 C8.45,4,8,4.45,8,5v0c0,0.55,0.45,1,1,1h2v2C11,8.55,11.45,9,12,9z M7,18c-1.1,0-1.99,0.9-1.99,2S5.9,22,7,22s2-0.9,2-2S8.1,18,7,18 z M17,18c-1.1,0-1.99,0.9-1.99,2s0.89,2,1.99,2s2-0.9,2-2S18.1,18,17,18z M8.1,13h7.45c0.75,0,1.41-0.41,1.75-1.03l3.24-6.14 c0.25-0.48,0.08-1.08-0.4-1.34v0c-0.49-0.27-1.1-0.08-1.36,0.41L15.55,11H8.53L4.27,2H2C1.45,2,1,2.45,1,3v0c0,0.55,0.45,1,1,1h1 l3.6,7.59l-1.35,2.44C4.52,15.37,5.48,17,7,17h11c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1H7L8.1,13z"/>-->
        <!--              </svg>-->
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
          <path d="M0 0h24v24H0V0z" fill="none"/>
          <path
            d="M20 2H4.01c-1.1 0-2 .9-2 2v18L6 18h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-5c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1s1 .45 1 1v2z"/>
        </svg>
        Gửi phản hồi
      </button>
      <button type="button" class="btn btn-warning" data-dismiss="modal" mat-dialog-close="true"
              style="width: 160px; margin-left: 10px;margin-right: 10px" [routerLink]="['/menu']">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
          <path d="M0 0h24v24H0V0z" fill="none"/>
          <path
            d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L3.71 8.71C3.08 8.08 2 8.52 2 9.41V15c0 .55.45 1 1 1h5.59c.89 0 1.34-1.08.71-1.71l-1.91-1.91c1.39-1.16 3.16-1.88 5.12-1.88 3.16 0 5.89 1.84 7.19 4.5.27.56.91.84 1.5.64.71-.23 1.07-1.04.75-1.72C20.23 10.42 16.65 8 12.5 8z"/>
        </svg>
        Quay lại
      </button>
      <button type="reset" class="btn btn-danger" style="width: 175px">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path
            d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"/>
        </svg>
        Xoá biểu mẫu
      </button>
    </div>
  </form>
</mat-dialog-content>
